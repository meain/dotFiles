#!/bin/sh

set -e

echo "$1" | grep -q '#' && echo "Invalid git url. Url contains #" && exit 1

cat $VIME_PATH/gourcer $GOURCER_PATH/pending |
	grep -q "$1" && echo "[Already available] $1" && exit 0
if echo "$1" | grep -qE "^http"; then
	echo "- $1" >>~/.cache/vime/gourcer
else
	echo "[Invalid url] $1"
fi
# exit 1 will mess with newsboat

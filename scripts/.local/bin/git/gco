#!/bin/sh

# Checkout another branch

set -e

if [ "$1" = "-a" ]; then
	branches="$(git branch -a)"
else
	branches="$(git branch)"
fi
echo "$branches" |
	grep -v '*' |
	awk '{print $1}' |
	fzf --height 40% --reverse --preview 'git log --oneline -20 {}' |
	xargs basename |
	xargs git checkout
